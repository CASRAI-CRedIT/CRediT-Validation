---
title: "Get started"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{get_started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# CRediTas

The goal of CRediTas is to facilitate the tedious job of creating [CRediT authors statements](https://CRediTas.niso.org/) for scientific publications.

## Installation

You can install the development version of CRediTas from [GitHub](https://github.com/) with:

``` r
# install.packages("remotes")
remotes::install_github("jospueyo/CRediTas")
```

## Example

The workflow is meant to work with three basic functions. First, we create a template table. It can be created as a `data.frame` and being populated in R. 

```{r create_template}
library(CRediTas)

cras_table <- create_template(authors = c("Friedrich Ratzel", 
                                          "Pau Vidal de la Blache", 
                                          "Élisée Reclus"))
knitr::kable(cras_table)

```

As you can see, the table is empty. So you must provide the information of who did what. To do this, you can also write the template as a csv file and then populate it in your preferred csv editor.

```{r write_csv, eval=FALSE}

create_template(authors = c("Friedrich Ratzel", 
                                          "Pau Vidal de la Blache", 
                                          "Élisée Reclus"),
                            file = path_to_your_csv_file)

```

Additionally, you can also define the roles to be included in the template. If `roles` is no specified, the roles recommended by the CRediT system are all included:

```{r define_roles}

create_template(authors = c("Danaerys Targaryen", "John Snow"),
                roles = c("Free slaves", "Kill white walkers", "Ride dragons")) |> 
                  knitr::kable()

```

If you wrote the template to a file, then you can read it back to R as follows:

```{r read_template, eval=FALSE}

cras_table <- read_template(path_to_your_csv_file)

```

Once the `cras_table` is populated, for instance:

```{r populate_random, echo=FALSE}

cras_table[, 2:ncol(cras_table)] <- sample(0:1, size=3*14, 
                                           replace = TRUE, prob = c(0.6, 0.4))
knitr::kable(cras_table)

```

A text file can be generated following the CRediT author statement format.

```{r}

textfile <- tempfile()

write_cras(cras_table, textfile, markdown = TRUE)

```

If you open the text file, you will find this:

`r readLines(textfile)`

Moreover, if you are writing your paper in RMarkdown or quarto, you can insert the CRediT author statement directly in the text using an inline chunk ``markdown `r write_cras(cras_table, file = NULL, markdown = TRUE)` ``. 

